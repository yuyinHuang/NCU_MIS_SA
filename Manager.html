<html>

<head>
    
     <meta charset="utf-8">
 	 <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 	 <meta name="description" content="">
 	<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  	<meta name="generator" content="Jekyll v3.8.5">
    <title>管理者中心 | balance</title>
    
     <link href="statics/css/bootstrap.min.css" rel="stylesheet">
  	 <link href="statics/css/font-awesome.min.css" rel="stylesheet">
 	 <link href="statics/icon/LOGO.png" type="image/x-png" rel="icon">
 	 <link href="statics/icon/LOGO.png" type="image/x-png" rel="shortcut icon">
 	 
     <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
	
	.tabs-container {
	  width: 80%;
	  height: 100%;
	  margin:0 auto;
	  border-radius: 10px 10px 0 0;
	  box-shadow: 0 0 2px rgba(0, 0, 0, 0.225), 0 0 1.5px rgba(0, 0, 0, 0.125);
	}
	
	.tabs-pages {
	  width: 100%;
	  display: flex;
	  text-align: center;
	  font-size:20px;
	  flex-direction: row;
	  border-bottom: 1px solid rgba(0, 0, 0, 0.125);
	}
	
	.tabs-pages:focus,
	.tabs-pages:hover {
	  cursor: pointer;
	}
	
	.tab {
	  width: 100%;
	  padding: 1.5em 1.2em;
	  color: white;
	  background-color: #A9A9A9;
	}
	
	.tab:hover {
	  background-color: #808080;
	}
	
	.tab:nth-child(1) {
	  border-radius: 10px 0 0 0;
	}
	
	.tab:nth-last-child(1) {
	  border-radius: 0 10px 0 0;
	}
	
	.tab.active {
	  background-color: #000000;
	}
	
	.tabs-contents {
	  display: block;
	  width: 100%;
	  height: auto;
	  position: relative;
	}
	
	.tab-c {
	  position: absolute;
	  top: 0;
	  left: 0;
	  opacity: 0;
	  width: 100%;
	  height: auto;
	  color: black;
	  transition: opacity 1s;
	}
	
	.tab-c.active {
	  opacity: 1;
	}
	
	.inner-content {
	  position: relative;
	  padding: 2em;
	}
	.font{
	  display: flex;
	  height:100px;	 
	  font-size:40px;
	}
	.data{
	  display: flex;
	  height:100px;
	  text-align: center;	 
	  font-size:30px;
	}
    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="statics/css/product.css" rel="stylesheet">
  <link href="statics/css/jquery-confirm.css" rel="stylesheet">
  <script src="statics/js/jquery-3.4.1.min.js"></script>
  <script src="statics/js/jquery-confirm.js"></script>
  <script src="statics/js/big.min.js"></script>
</head>

<body>
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <a  id="logo" href ="balance.html"><img src= "statics/icon/LOGO.png" width ="60" height="60"></a>
    <a class="my-0 mr-md-auto" style="font-size:xx-large">balance</a>
    <nav class="my-2 my-md-0 mr-md-3">
      <a id="product" class="p-2 text-dark" href="product.html">Product</a>
    </nav>
    <a href="cart.html">
    <img src="statics/img/cart.png" width="50px">
	</a>
  </div>

  <div class="pricing-header px-5 py-2 pt-md-4 pb-md-3 mx-auto bg-white">
    <h1 class="display-4" align="left">管理者中心</h1>
  </div>  
  <br>
 <div class="tabs-container">
  <div class="tabs-pages">
    <div class="tab active">個人資料</div>
    <div class="tab">訂單追蹤</div>
    <div class="tab">檢視所有會員</div>
  </div>
  <div class="tabs-contents">
    <div class="tab-c active">
      <div class="inner-content">
        		<div class="font">            
                    <label   for="member_phoneNumber" >管理者帳號:</label>
                    </div>
                    <div class="data"> 
                     <label id="phoneNumber"></label>
                     
                </div>
                <div class="font">
                
                    <label  for="member_name" >管理者姓名:</label>
                    </div>
                   <div class="data"> 
                     <label id="name"></label>
                
                </div> 
                <script>
            	var url_string = window.location.href;
                var url = new URL(url_string);
               // var id = url.searchParams.get("id");
                       // 發出POST的AJAX請求
                            $.ajax({
                                    type: "GET",
                                    url: "api/member.do",
                                    data: "id=" + 1,
                                    crossDomain: true,
                                    cache: false,
                                    dataType: 'json',
                                    timeout: 5000,
                                    success: function (response) {                                    
                                        if(response.status == 200){
                                        	updateHTML(response.response.data);
                                            
                                        }
                                    },
                                    error: function () {
                                        alert("無法連線到伺服器！");
                                    }
                            });
                            function updateHTML(data){
                        	   
                        	 $("#phoneNumber").html(data['phoneNumber']);
                        	 $("#name").html(data['name']);
                        	 var phoneNumber_html = "";
                        	 $.each(data, function (k, v) {
                       		  phoneNumber_html += updatephoneNumber(v);
                       		 $("#phoneNumber").append(phoneNumber_html);
                       		 
                       		var name_html = "";
                       	 	$.each(data, function (k, v) {
                      		  name_html += updatename(v);
                      		 $("#name").append(name_html);
                       		 
                       	  });
                                                          
                           });
                            function updatephoneNumber(data) {
                          	  var table_html = "";
                          	 // table_html += '<tr id="row_' + data.id + '">';   
                              table_html += '<div class="data">' + data.phoneNumber + '</div>';
                            //  table_html += '</tr>';                          
                          	  return table_html;
                          	  
                            }
                            function updatename(data) {
                            	  var table_html = "";                         	  
                                table_html += '<tr name="row_' + data.id + '">';
                                table_html += '<th class="align-middle text-center"><p class="text-break">' + data.name + '</p></th>';                    
                                table_html += '</tr>'; 
                                document.getElementById("product").href="product.html?id="+data.id;
                                document.getElementById("logo").href="balance.html?id="+data.id;
                            	  return table_html;
                            	  
                              }
                            }
                    
            </script>          
      </div>
    </div>
    <div class="tab-c">
      <div class="inner-content">
        tab content two
      </div>
    </div>
	    <div class="tab-c">
	      <div class="inner-content">
	         <div class="table-responsive">
         <table id="table" class="table table-striped table-sm">
           <thead>
             <tr>
               <th class="text-center" style="width: 25%" ><font size="6">會員手機</font></th>
               <th class="text-center" style="width: 25%"><font size="6">會員姓名</font></th>
             </tr>
           </thead>        
         </table>
       </div>
	      </div>
	    </div>
	    <script>
	    getAllMember();
	    function getAllMember(){
            $.ajax({
          type: "GET",
          url: "api/member.do",
          crossDomain: true,
          cache: false,
          dataType: 'json',
          timeout: 5000,
          success: function (response) {
              if(response.status == 200){
            	  updateTable(response.response.data);
              }
              console.log(response);
          },
          error: function () {
              alert("無法連線到伺服器！");
          }         
    });
	    }
	    function updateTable(data) {
            var table_html = '';
            $.each(data, function(index, value) {
                table_html += '<tr>';
                table_html += '<td class="text-center"><font size="6">' + value['phoneNumber'] + '</td>';
                table_html += '<td class="text-center"><font size="6">' + value['name'] + '</td>';
               // table_html += '<td>' + '<a href="edit.html?id=' + value['id'] + '">編輯</a> | ';
                //table_html += '<a href="javascript: deleteMember(' + value['id'] + ');">刪除</a></td></tr>';
                table_html +='</tr>';
            })
            $("#table").append(table_html);
        }
            </script>
  </div>
</div>
        <div id="content">
         
            <script type="text/javascript">
            
            $(".tab").each(function(index) {
            	  $(this).click(function(e) {
            	    triggletab();
            	    triigletabcontent();
            	    $(this).toggleClass("active");
            	    $(".tab-c")
            	      .eq(index)
            	      .toggleClass("active");
            	  });
            	});
            	//to remove all tab headers
            	function triggletab() {
            	  $(".tab").each(function() {
            	    $(this).removeClass("active");
            	  });
            	}

            	//triggle the tab content
            	function triigletabcontent() {
            	  $(".tab-c").each(function() {
            	    $(this).removeClass("active");
            	  });
            	}
            
            </script>
            	

        </div>
        

</body>

</html>